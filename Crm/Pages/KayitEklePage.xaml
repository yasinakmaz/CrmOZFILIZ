<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Crm.Pages.KayitEklePage"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:model="clr-namespace:Crm.Model"
             Style="{StaticResource StlPage}"
             Title="Kayıt Ekle">

    <RefreshView x:Name="Refresh" Refreshing="RefreshView_Refreshing">
    <ScrollView HorizontalScrollBarVisibility="Always" VerticalScrollBarVisibility="Always">
            <StackLayout Margin="20" Spacing="20">
                <!-- Firma Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Firma İsmi ↓ !*"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1">
                            <Image Source="https://img.icons8.com/fluency/96/add-contact-to-company.png"></Image>
                            <Entry Grid.Column="1" Style="{StaticResource Txt}" Placeholder="Firma İsmi Giriniz !*"></Entry>
                        </Grid>
                    </Grid>
                </Border>

                <!-- Ad Soyad Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Yetkili Ad Soyad ↓ !*"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1">
                            <Image Source="https://img.icons8.com/3d-fluency/94/user-male-circle.png"></Image>
                            <Entry Grid.Column="1" Style="{StaticResource Txt}" Placeholder="Yetkili Ad Soyad Giriniz !*"></Entry>
                        </Grid>
                    </Grid>
                </Border>

                <!-- Telefon Numarası Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Yetkili Telefon Numarası ↓ !*"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1">
                            <Image Source="https://img.icons8.com/fluency/96/nokia-3310.png"></Image>
                            <Entry Grid.Column="1" Style="{StaticResource Txt}" Placeholder="Telefon Numarası Giriniz !*">
                                <Entry.Behaviors>
                                    <toolkit:MaskedBehavior Mask="+0 (XXX)-(XXX)-XX-XX-"/>
                                </Entry.Behaviors>
                            </Entry>
                        </Grid>
                    </Grid>
                </Border>

                <!-- İkinci Kişi Telefon Numarası Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Yedek Telefon Numarası ↓"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1" >
                            <Image Source="https://img.icons8.com/fluency/96/multiple-smartphones.png"></Image>
                            <Entry Grid.Column="1" Style="{StaticResource Txt}" Placeholder="Telefon Numarası Giriniz">
                                <Entry.Behaviors>
                                    <toolkit:MaskedBehavior Mask="+0 (XXX)-(XXX)-XX-XX-"/>
                                </Entry.Behaviors>
                            </Entry>
                        </Grid>
                    </Grid>
                </Border>

                <!-- Anydesk Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Anydesk Numarası ↓"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1">
                            <Image Source="https://img.icons8.com/fluency/96/anydesk.png"></Image>
                            <Entry Grid.Column="1" Style="{StaticResource Txt}" Placeholder="Anydesk Numarası Giriniz"></Entry>
                        </Grid>
                    </Grid>
                </Border>

                <!-- Sorun Border -->
                <Border Style="{StaticResource BrdStl}" HeightRequest="300">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Sorun'u Lütfen Bu Kısma Yazınız !* ↓"></Label>
                        <Grid ColumnDefinitions="50,*" Grid.Row="1">
                            <Image Grid.Column="0" Source="https://img.icons8.com/fluency/96/question.png" VerticalOptions="Start"></Image>
                            <Editor Grid.Column="1" Style="{StaticResource StlEdt}"></Editor>
                        </Grid>
                    </Grid>
                </Border>

                <!-- Program Border -->
                <Border Style="{StaticResource BrdStl}" HeightRequest="190">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Program Seçiniz ↓ !*"></Label>
                        <CollectionView Grid.Row="1" x:Name="ProgramList" ItemsLayout="HorizontalList" HorizontalScrollBarVisibility="Never">
                            <CollectionView.ItemTemplate>
                                <DataTemplate x:DataType="model:TblProgram">
                                    <Border Style="{StaticResource BrdStl}" HeightRequest="150" BackgroundColor="{StaticResource SecondaryDark}">
                                        <Grid RowDefinitions="*,50" WidthRequest="150">
                                            <Image Grid.Row="0" Source="{Binding ProgramImageSource}" Aspect="Fill"></Image>
                                            <Grid ColumnDefinitions="40,auto" Grid.Row="1" HorizontalOptions="Center">
                                                <CheckBox Grid.Column="0" BackgroundColor="Transparent" x:Name="ChkProgram" Color="White"></CheckBox>
                                                <Label Grid.Column="1" VerticalOptions="Center" Style="{StaticResource LblStl}" Text="{Binding ProgramName}"></Label>
                                            </Grid>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </Grid>
                </Border>

                <!-- Tarih Border -->
                <Border Style="{StaticResource BrdStl}" HeightRequest="50">
                    <ScrollView Orientation="Horizontal">
                        <Grid ColumnDefinitions="auto,*" Margin="20,0,0,0" ColumnSpacing="10">
                            <Label Grid.Column="0" Style="{StaticResource LblStl}" VerticalOptions="Center" Text="Randevu Belirle → !*"></Label>
                            <ScrollView Grid.Column="1">
                                <Grid ColumnDefinitions="30,160,110,50,50">
                                    <CheckBox Grid.Column="0" Color="White" Style="{StaticResource RdbStl}" CheckedChanged="DatePck_CheckedChanged" x:Name="DatePck"></CheckBox>
                                    <Label Grid.Column="1" Style="{StaticResource LblStl}" VerticalOptions="Center" Text="Randevu Tarihi Belirle →"></Label>
                                    <DatePicker Grid.Column="2" x:Name="DtpPck" IsVisible="False"></DatePicker>
                                </Grid>
                            </ScrollView>
                        </Grid>
                    </ScrollView>
                </Border>

                <!-- Anlaşma Durumu Border -->
                <Border Style="{StaticResource BrdStl}" HeightRequest="200">
                    <Grid RowDefinitions="20,*" Margin="10,5,0,0">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Anlaşma Durumu Seçiniz ↓ !*"></Label>
                        <CollectionView Grid.Row="1" x:Name="AgreementList" ItemsLayout="HorizontalList" HorizontalScrollBarVisibility="Never">
                            <CollectionView.ItemTemplate>
                                <DataTemplate x:DataType="model:TblAgreement">
                                    <Border Style="{StaticResource BrdStl}" HeightRequest="150" BackgroundColor="{StaticResource SecondaryDark}">
                                        <Grid RowDefinitions="*,50" Margin="10,0,10,0" MinimumWidthRequest="150" MaximumWidthRequest="250">
                                            <Image Grid.Row="0" Source="{Binding AgreementImageSource}" BackgroundColor="Transparent" Aspect="AspectFit"></Image>
                                            <Grid ColumnDefinitions="auto" Grid.Row="1" HorizontalOptions="Center">
                                                <RadioButton Grid.Column="0" BackgroundColor="Transparent" Content="{Binding AgreementName}" GroupName="Agreement"></RadioButton>
                                            </Grid>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </Grid>
                </Border>

                <!-- Anlık Kişi Ataması Border -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="30,*" ColumnSpacing="5" Margin="10">
                        <Label Grid.Row="0" Style="{StaticResource LblStl}" Text="Anlık Kişi Ataması ↓"></Label>
                        <Picker Grid.Row="1" BackgroundColor="{StaticResource SecondaryDark}"></Picker>
                    </Grid>
                </Border>

                <!-- Şuanki Durumu -->
                <Border Style="{StaticResource BrdStl}">
                    <Grid RowDefinitions="20,*" RowSpacing="5" Margin="10">
                        <Label Style="{StaticResource LblStl}" Text="Anlık Durum ↓"></Label>
                        <Button Style="{StaticResource BtnStl}" Margin="2" Grid.Row="1" Text="Durum Seçmek İçin Tıklayınız"></Button>
                    </Grid>
                </Border>

                <!-- Kontrol -->
                <Border Style="{StaticResource BrdStl}" HeightRequest="60">
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="5">
                        <Button Grid.Column="0" x:Name="BtnClear" Style="{StaticResource BtnStl}" Text="Temizle" ImageSource="clear.png"></Button>
                        <Button Grid.Column="1" x:Name="BtnAdd" Style="{StaticResource BtnStl}" Text="Kaydı Ekle" ImageSource="phone.png"></Button>
                    </Grid>
                </Border>

            </StackLayout>
        </ScrollView>
    </RefreshView>

</ContentPage>